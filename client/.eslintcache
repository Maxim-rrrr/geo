[{"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\index.js":"1","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\App.js":"2","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\reportWebVitals.js":"3","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\pages\\Auth.js":"4","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\pages\\User.js":"5","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\hooks\\http.hook.js":"6","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\AuthForm.js":"7","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\RegForm.js":"8","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\CreatePointForm.js":"9","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\PointEditModal.js":"10","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\PointRemoveModal.js":"11"},{"size":532,"mtime":1608595187839,"results":"12","hashOfConfig":"13"},{"size":845,"mtime":1608685805551,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":1608524412707,"results":"15","hashOfConfig":"13"},{"size":1598,"mtime":1608635539250,"results":"16","hashOfConfig":"13"},{"size":4813,"mtime":1608747217204,"results":"17","hashOfConfig":"13"},{"size":910,"mtime":1608589442940,"results":"18","hashOfConfig":"13"},{"size":2002,"mtime":1608681042675,"results":"19","hashOfConfig":"13"},{"size":2607,"mtime":1608684355870,"results":"20","hashOfConfig":"13"},{"size":2686,"mtime":1608686119020,"results":"21","hashOfConfig":"13"},{"size":3971,"mtime":1608741166595,"results":"22","hashOfConfig":"13"},{"size":1657,"mtime":1608742260124,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1rz6uh",{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"26"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\index.js",[],["50","51"],"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\App.js",["52","53"],"import React, { useState, useEffect } from 'react'\n\nimport { Auth } from './pages/Auth'\nimport { User } from './pages/User'\n\nimport { useHttp } from './hooks/http.hook'\n\nexport default function App() {\n  const [user, setUser] = useState('')\n  const {loading, request} = useHttp()\n\n  const getUserHandler = async () => {\n    try {\n      const data = await request('/api/getUser', 'POST', { token: localStorage.getItem('token') })\n\n      if (data.status !== 200) {\n        localStorage.removeItem('token')\n      } else {\n        setUser(data.user)\n      }\n\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      getUserHandler()\n    }\n  }, [])\n  \n  if (user) {\n    return <User user = { user } getUserHandler = { () => { getUserHandler() } }/>\n  } else {\n    return <Auth />\n  }\n\n}\n\n\n","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\reportWebVitals.js",[],"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\pages\\Auth.js",[],"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\pages\\User.js",[],"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\hooks\\http.hook.js",[],"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\AuthForm.js",[],"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\RegForm.js",[],"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\CreatePointForm.js",[],"C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\PointEditModal.js",["54"],"import React, { useState } from 'react'\r\nimport { useHttp } from '../hooks/http.hook'\r\n\r\nexport const PointEditModal = (props) => {\r\n\r\n  let modalStyle = {\r\n    display: 'block',\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    height: '100vh',\r\n    width: '100vw',\r\n    background: '#00000070',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  }\r\n\r\n  const [title, setTitle] = useState(props.user.points[props.index].title)\r\n  const [latitude, setLatitude] = useState(props.user.points[props.index].latitude)\r\n  const [longitude, setLongitude] = useState(props.user.points[props.index].longitude)\r\n  const [invalid, setInvalid] = useState('')\r\n\r\n  const { request } = useHttp()\r\n\r\n  const onSubmit = async event => {\r\n    event.preventDefault()\r\n\r\n    try {\r\n      let valid = true\r\n      props.user.points.forEach((elem, index) => {\r\n        if (elem.title === title && index !== props.index) {\r\n          setInvalid('Точка с таким названием уже есть')\r\n          valid = false\r\n        }\r\n      });\r\n\r\n      if (valid) {\r\n        setInvalid('')\r\n        let points = props.user.points\r\n  \r\n        points[props.index] = { title, latitude, longitude }\r\n  \r\n        await request('/api/setPoints', 'POST', { token: props.user.token, points })\r\n        props.getUserHandler()\r\n        setTitle('')\r\n        setLatitude('')\r\n        setLongitude('')\r\n        props.setModalEditPoint()\r\n      }\r\n\r\n    } catch (e) { console.log(e) }\r\n  }\r\n\r\n  return (\r\n    <div id = 'modal' style = { modalStyle } onClick = { (event) => { \r\n      if (event.target.id === 'modal') {\r\n        props.setModalEditPoint()\r\n      }\r\n    } }>\r\n      <div className = 'grey darken-4 teal-text' style = {{ padding: '20px 20px' }}>\r\n        <form\r\n          className = 'col s10 offset-s1'\r\n          onSubmit = { event => onSubmit(event) }\r\n        >\r\n          <div className=\"row\">\r\n            <h5 style = {{ color: '#4db6ac', textAlign: 'center' }}> Изменить точку на карте </h5>\r\n            <div className=\"input-field col s12\">\r\n              <input \r\n                id=\"titleEdit\"\r\n                type=\"text\" \r\n                className=\"validate white-text\" \r\n                value = { title }\r\n                onChange = { event => setTitle(event.target.value) }\r\n              />\r\n              <label htmlFor=\"titleEdit\" className=\"active\"> Название </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n\r\n            <div className=\"input-field col s6\">\r\n              <input \r\n                id=\"latitudeEdit\"\r\n                type=\"number\" \r\n                className=\"validate white-text\" \r\n                value = { latitude }\r\n                onChange = { event => setLatitude(event.target.value) }\r\n              />\r\n              <label htmlFor=\"latitudeEdit\" className=\"active\">Широта</label>\r\n            </div>\r\n\r\n            <div className=\"input-field col s6\">\r\n              <input \r\n                id=\"longitudeEdit\"\r\n                type=\"number\" \r\n                className=\"validate white-text\" \r\n                value = { longitude }\r\n                onChange = { event => setLongitude(event.target.value) }\r\n              />\r\n              <label htmlFor=\"longitudeEdit\" className=\"active\">Долгота</label>\r\n            </div>\r\n\r\n          </div>\r\n          <p style = {{ color: 'tomato', textAlign: 'center' }}> { invalid } </p>\r\n          <div style = {{ display: 'flex', justifyContent: 'center' }}>\r\n            <button \r\n              className=\"waves-effect waves-light btn\" \r\n              style = {{ marginRight: '15px' }}\r\n            > Изменить </button>\r\n\r\n            <button \r\n              className=\"waves-effect waves-light btn\" \r\n              onClick = { () => props.setModalEditPoint('') }\r\n            > Отмена </button>\r\n\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n} ","C:\\Users\\Maxim\\Desktop\\geolocation\\client\\src\\components\\PointRemoveModal.js",["55","56"],"import React, { useState } from 'react'\r\nimport { useHttp } from '../hooks/http.hook'\r\n\r\nexport const PointRemoveModal = (props) => {\r\n  let modalStyle = {\r\n    display: 'block',\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    height: '100vh',\r\n    width: '100vw',\r\n    background: '#00000070',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    zIndex: 10000\r\n  }\r\n\r\n\r\n  const { request } = useHttp()\r\n\r\n  const onSubmit = async () => {\r\n\r\n    try {\r\n      let points = props.user.points\r\n      points.splice(props.index, 1)\r\n\r\n      await request('/api/setPoints', 'POST', { token: props.user.token, points })\r\n      props.getUserHandler()\r\n      props.setModalRemovePoint()\r\n    } catch (e) { console.log(e) }\r\n  }\r\n\r\n  return (\r\n    <div id = 'modal' style = { modalStyle } onClick = { (event) => { \r\n      if (event.target.id === 'modal') {\r\n        props.setModalRemovePoint()\r\n      }\r\n    } }>\r\n      <div className = 'grey darken-4 teal-text' style = {{ padding: '20px 20px' }}>\r\n        <h5 style = {{ color: '#4db6ac', textAlign: 'center' , marginBottom: '30px'}}> Удалить точку? </h5>\r\n        <div style = {{ display: 'flex', justifyContent: 'center' }}>\r\n\r\n          <button \r\n            className=\"waves-effect waves-light btn\" \r\n            style = {{ marginRight: '15px' }}\r\n            onClick={ () => { onSubmit() } }\r\n          > Удалить </button>\r\n\r\n          <button \r\n            className=\"waves-effect waves-light btn\" \r\n            onClick = { () => props.setModalRemovePoint('') }\r\n          > Отмена </button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}",{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":10,"column":10,"nodeType":"63","messageId":"64","endLine":10,"endColumn":17},{"ruleId":"65","severity":1,"message":"66","line":31,"column":6,"nodeType":"67","endLine":31,"endColumn":8,"suggestions":"68"},{"ruleId":"69","severity":1,"message":"70","line":14,"column":5,"nodeType":"71","messageId":"72","endLine":14,"endColumn":12},{"ruleId":"61","severity":1,"message":"73","line":1,"column":17,"nodeType":"63","messageId":"64","endLine":1,"endColumn":25},{"ruleId":"69","severity":1,"message":"70","line":13,"column":5,"nodeType":"71","messageId":"72","endLine":13,"endColumn":12},"no-native-reassign",["74"],"no-negated-in-lhs",["75"],"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getUserHandler'. Either include it or remove the dependency array.","ArrayExpression",["76"],"no-dupe-keys","Duplicate key 'display'.","ObjectExpression","unexpected","'useState' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"77","fix":"78"},"Update the dependencies array to be: [getUserHandler]",{"range":"79","text":"80"},[701,703],"[getUserHandler]"]